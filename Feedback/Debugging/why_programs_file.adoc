= Why programs fail

== Explanation

Data goes through a series of transformations, need to discover transformation that contains defect which causes infection to cascade throughout system.

== Glossary

* Failure -> Visible incorrect result
* Defect -> Good state -> Bad state
* Infection -> Cascading bad state caused by Defect
* Time bomb -> Undetected defect and no failures when ran (code not executed)

== Print debugging

.Pro 
* You can inspect state at different points in your system

.Con
* Maintenance nightmare
** Have to input them
** Have to remove them
** Leaving prints in can cause bugs itself
* Can produce long and unreadable logs

== Scientific Method

Process to follow when trying to understand failure

* Failure -> Something bad happened
* Hypothesis -> Potential defect that caused infection
* Prediction -> Given context When transformation Then infection
* Experiment -> Test prediction
* Observation -> Did result of experiment support Hypothesis
** IF observation supports hypothesis then refine hypothesis or Diagnose
** ELSE reject hypothesis and create a new one
* Diagnosis -> Once lots a experiments that support Hypothesis

Failure -> Hypothesis -> Prediction -> Experiment -> Observation -> Diagnosis

== Explicit debugging

* Writing down what you doing (clear goal, Acts as log of what you've already done)
* Rubber duck programming (solves 2/3 of problems)
* Can come back to it tomorrow
* Change safety net

* Assertions (Pre/Post conditions) Or Property Based Tests (invariants)
*** Debugging (Shrinks input value that caused failure)
*** Testing (Build confidence within system)
**** Test function 1000s of times
**** Generate large data sets for function
*** Catch errors (Highlight edge cases not considered)
*** Documentation (Expected properties of function)

== Delta Debugging (Binary search / Shrink)

* Property based testing
** Get failing input or Generate lots of inputs
** Shrink input by using binary search to smallest base case (most relevance)
** Test using smallest shrunk value to simplify testing 
* Use `git bisect` to compare two commits
